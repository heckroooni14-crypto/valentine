<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>for my love</title>

    <!-- Fonts -->
    <link href="https://fonts.googleapis.com/css2?family=Playfair+Display:ital,wght@0,700;1,700&family=Montserrat:wght@500;700&display=swap" rel="stylesheet">

    <!-- Confetti -->
    <script src="https://cdn.jsdelivr.net/npm/canvas-confetti@1.6.0/dist/confetti.browser.min.js"></script>

    <style>
        :root {
            --night-bordeaux: #590D22;
            --tux-green: #77BC1F;
            --rosewood: #C9184A;
        }

        body, html {
            margin: 0;
            padding: 0;
            width: 100%;
            height: 100%;
            overflow: hidden;
            background-color: #1a1a1a;
            display: flex;
            align-items: center;
            justify-content: center;
            font-family: 'Montserrat', sans-serif;
        }

        /* Loader */
        #loader {
            position: fixed;
            z-index: 9999;
            background: #1a1a1a;
            color: white;
            width: 100%;
            height: 100%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 1.5rem;
        }

        /* Viewport */
        .game-viewport {
            position: relative;
            width: 100vw;
            height: 75vw;
            max-width: 1200px;
            max-height: 900px;
            background-color: #fff;
            box-shadow: 0 0 50px rgba(0,0,0,0.5);
            overflow: hidden;
            display: none;
        }

        /* Backgrounds */
        .bg {
            position: absolute;
            top: 0; left: 0;
            width: 100%; height: 100%;
            background-size: contain;
            background-repeat: no-repeat;
            background-position: center;
            z-index: 1;
        }

        #page1-bg { background-image: url("bg.png"); }
        #page2-bg { background-image: url("bg2.png"); display: none; }

        /* UI */
        .ui-layer {
            position: absolute;
            top: 0; left: 0;
            width: 100%; height: 100%;
            z-index: 10;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            text-align: center;
        }

        h1 {
            font-family: 'Playfair Display', serif;
            font-style: italic;
            font-size: 3.5rem;
            color: var(--night-bordeaux);
            margin: 0;
        }

        .heart {
            font-size: 150px;
            cursor: pointer;
            display: inline-block;
            animation: heartbeat 1.2s infinite;
            margin: 15px 0;
        }

        @keyframes heartbeat {
            0%, 100% { transform: scale(1); }
            50% { transform: scale(1.1); }
        }

        .tap-text {
            font-family: 'Playfair Display', serif;
            font-style: italic;
            font-size: 2rem;
            color: var(--rosewood);
            font-weight: bold;
        }

        #question {
            font-family: 'Playfair Display', serif;
            font-style: italic;
            font-size: 4.5rem;
            color: var(--tux-green);
            margin: 10px;
            font-weight: 700;
            text-shadow: 2px 2px 0px white;
        }

        .btn-group {
            display: flex;
            gap: 20px;
            justify-content: center;
            margin-top: 20px;
        }

        .btn {
            padding: 15px 40px;
            font-size: 1.8rem;
            font-weight: bold;
            border-radius: 12px;
            border: none;
            background: var(--night-bordeaux);
            color: white;
            cursor: pointer;
            box-shadow: 0 4px 0px #3a0a18;
        }
    </style>
</head>

<body onload="doneLoading()">

<div id="loader">Preparing the magic‚Ä¶ üê∏</div>

<div class="game-viewport" id="main-view">
    <div id="page1-bg" class="bg"></div>
    <div id="page2-bg" class="bg"></div>

    <audio id="myFunnyValentine" loop preload="auto">
        <source src="song.mp3" type="audio/mpeg">
    </audio>

    <div class="ui-layer">

        <!-- HEART SECTION -->
        <div id="heart-section">
            <h1>for my mendhak....ìè≤‚äπ‚ÇäÀöü™∑.Àö‚ÇäìÜè</h1>
            <div class="heart" onclick="heartMood()">üíñ</div>
            <p class="tap-text" id="mood-text">
                u da real art but pls tap this heart <3
            </p>
        </div>

        <!-- QUESTION SECTION -->
        <div id="ask-section" style="display:none;">
            <h1 id="question">will you be my valentine? ‚∏ú(ÔΩ°ÀÉ ·µï ÀÇ )‚∏ù‚ô°</h1>
            <div class="btn-group">
                <button class="btn" onclick="sayYes()">YES!</button>
                <button class="btn" id="no-btn" onmouseover="moveNo()">no??</button>
            </div>
        </div>

    </div>
</div>

<script>
/* Loader */
function doneLoading() {
    document.getElementById("loader").style.display = "none";
    document.getElementById("main-view").style.display = "block";
}

/* Audio unlock */
const audio = document.getElementById("myFunnyValentine");

/* HEART MOODS */
let moodIndex = 0;
const heartMoods = [
    "ok but like‚Ä¶ tap it again :3",
    "bruh",
    "one more. trust me.",
    "last tap i swear :p"
];

function heartMood() {
    const text = document.getElementById("mood-text");
    const heart = document.querySelector(".heart");

    heart.style.transform = "scale(1.25)";
    setTimeout(() => heart.style.transform = "scale(1)", 150);

    confetti({ particleCount: 30, spread: 60, origin: { y: 0.6 } });

    if (moodIndex < heartMoods.length) {
        text.innerText = heartMoods[moodIndex];
        moodIndex++;
    } else {
        showQuestion();
    }
}

/* SHOW QUESTION */
function showQuestion() {
    audio.play().then(() => {
        audio.pause();
        audio.currentTime = 0;
    }).catch(() => {});

    document.getElementById("heart-section").style.display = "none";
    document.getElementById("ask-section").style.display = "block";
    confetti({ particleCount: 150, spread: 80 });
}

/* YES */
function sayYes() {
    audio.play();
    document.getElementById("question").innerText = "YAY! I LOVE YOU (À∂·µî ·µï ·µîÀ∂)‚ô°‚ÇäÀö üê∏„Éª‚Çä‚úß";
    document.getElementById("question").style.color = "#C9184A";

    confetti({ particleCount: 400, spread: 120 });

    setTimeout(() => {
        document.getElementById("page1-bg").style.display = "none";
        document.getElementById("page2-bg").style.display = "block";
        document.getElementById("ask-section").style.display = "none";
    }, 4500);
}

/* NO RUNS AWAY */
function moveNo() {
    const btn = document.getElementById("no-btn");
    btn.style.position = "fixed";
    btn.style.left = Math.random() * 80 + "%";
    btn.style.top = Math.random() * 80 + "%";
}
</script>

</body>
</html>

